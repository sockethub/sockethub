{
  "name": "root",
  "private": true,
  "engines": {
    "deno": ">=1.45"
  },
  "dependencies": {
    "@types/debug": "^4.1.12",
    "debug": "^4.3.7"
  },
  "devDependencies": {
    "@sockethub/data-layer": "workspace:1.0.0-alpha.4",
    "@sockethub/schemas": "workspace:3.0.0-alpha.4",
    "chai": "4.3.10",
    "eslint": "8.56.0",
    "eslint-plugin-security": "^1.7.1",
    "find-up": "7.0.0",
    "karma": "6.4.2",
    "karma-chai": "0.1.0",
    "karma-chrome-launcher": "3.2.0",
    "karma-firefox-launcher": "2.1.2",
    "karma-mocha": "^2.0.1",
    "karma-mocha-reporter": "^2.2.5",
    "markdown-spellcheck": "1.3.1"
  },
  "scripts": {
    "clean": "pnpm run --parallel -r clean",
    "clean:deps": "pnpm run --parallel -r clean:deps && npx rimraf node_modules",
    "compliance": "pnpm lint && pnpm build && pnpm test",
    "coverage": "nx run-many --target=coverage",
    "dev": "pnpm build && pnpm --filter sockethub dev",
    "doc": "nx run-many --target=doc --all",
    "docker:start": "docker compose -f docker-compose.yml up -d",
    "docker:clean:all": "pnpm docker:stop && docker rm sockethub-sockethub-1 sockethub-redis-1 sockethub-prosody-1; docker rmi sockethub_sockethub",
    "docker:clean:sockethub": "pnpm docker:stop && docker rm sockethub-sockethub-1; docker rmi sockethub-sockethub",
    "docker:logs": "docker logs sockethub-sockethub-1",
    "docker:stop": "docker compose down",
    "docker:build": "pnpm docker:clean:sockethub; pnpm docker:start",
    "integration": "pnpm integration:redis && pnpm integration:browser",
    "integration:browser": "pnpm docker:start && pnpm integration:browser:run; RES=$?; exit $RES",
    "integration:browser:run": "karma start --single-run --sh_port=10650 --browsers ChromeHeadless ./karma.config.js",
    "integration:redis": "docker compose up redis -d && pnpm integration:redis:run; RES=$?; docker compose down; exit $RES",
    "integration:redis:run": "DEBUG=ioredis*,bullmq*,sockethub* mocha -r ts-node/register test/redis.test.ts",
    "preinstall": "npx only-allow pnpm",
    "publish": "pnpm clean && pnpm build && pnpm compliance && lerna publish --dist-tag latest --pre-dist-tag next",
    "start": "pnpm --filter sockethub start",
    "test": "nx run-many --target=test"
  },
  "resolutions": {
    "node-fetch": "2.7.0",
    "engine.io": "6.5.4",
    "socket.io": "4.7.5"
  }
}
