/*! For license information please see activity-streams.min.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(function(){return t={219:(t,e,r)=>{const n=r(370)(),o={stream:["@id","@type","actor","target","object","@context","context","published","error"],object:["@id","@type","@context","alias","attachedTo","attachment","attributedTo","attributedWith","content","contentMap","context","contextOf","displayName","endTime","generator","generatorOf","group","icon","image","inReplyTo","members","memberOf","message","location","locationOf","objectOf","originOf","presence","preview","previewOf","provider","providerOf","published","rating","relationship","resultOf","replies","role","scope","scopeOf","startTime","status","summary","topic","tag","tagOf","targetOf","title","titleMap","updated","url"]},i={id:"@id",verb:"@type",objectType:"@type",platform:"context"},c={actor:{primary:"@id",props:o},target:{primary:"@id",props:o},object:{primary:"content",props:o}};let s=new Map,u=!1,f=[],a={};function l(t,e){return!("object"!=typeof a[t]||!a[t].includes(e))}function p(t,e){return t[i[e]]=t[e],delete t[e],t}function y(t,e={}){const r=Object.keys(e).filter((e=>{if(!o[t].includes(e))return e}));for(let t of r)if(i[t])e=p(e,t);else if(!l(e["@type"],t)&&!f.includes(e["@type"])){const e=`invalid property: "${t}"`;if(u)throw new Error(e);console.warn(e)}}function b(t){y("stream",t),"object"==typeof t.object&&y("object",t.object);const e=function(t){let e={};for(let r of Object.keys(t))if("string"==typeof t[r])e[r]=s.get(t[r])||t[r];else if(Array.isArray(t[r])){e[r]=[];for(let n of t[r])"string"==typeof n&&e[r].push(s.get(n)||n)}else e[r]=t[r];for(let t of Object.keys(c))if("string"==typeof e[t]){let r={};r[c[t].primary]=e[t],e[t]=r}return e}(t);return n.emit("activity-stream",e),e}const d={create:function(t){return y("object",t),t=t,s.set(t["@id"],t),n.emit("activity-object-create",t),t},delete:function(t){const e=s.delete(t);return e&&n.emit("activity-object-delete",t),e},get:function(t,e){let r=s.get(t);if(!r){if(!e)return t;r={"@id":t}}return r},list:function(){return s.keys()},getByType:function(t){}};function h(t={}){f=t.specialObjs||[],u=t.failOnUnknownObjectProperties||!1;for(let e of Object.keys(t.customProps||{}))"object"==typeof t.customProps[e]&&(a[e]=t.customProps[e]);return{Stream:b,Object:d,on:function(t,e){return n.on(t,e)},once:function(t,e){return n.once(t,e)},off:function(t,e){return n.off(t,e)}}}t.exports&&(t.exports=h),"object"==typeof window&&(window.ASFactory=h)},804:(t,e,r)=>{"use strict";var n=r(618),o=r(205),i=r(191),c=r(516),s=r(981);(t.exports=function(t,e){var r,o,u,f,a;return arguments.length<2||"string"!=typeof t?(f=e,e=t,t=null):f=arguments[2],n(t)?(r=s.call(t,"c"),o=s.call(t,"e"),u=s.call(t,"w")):(r=u=!0,o=!1),a={value:e,configurable:r,enumerable:o,writable:u},f?i(c(f),a):a}).gs=function(t,e,r){var u,f,a,l;return"string"!=typeof t?(a=r,r=e,e=t,t=null):a=arguments[3],n(e)?o(e)?n(r)?o(r)||(a=r,r=void 0):r=void 0:(a=e,e=r=void 0):e=void 0,n(t)?(u=s.call(t,"c"),f=s.call(t,"e")):(u=!0,f=!1),l={get:e,set:r,configurable:u,enumerable:f},a?i(c(a),l):l}},430:t=>{"use strict";t.exports=function(){}},191:(t,e,r)=>{"use strict";t.exports=r(560)()?Object.assign:r(346)},560:t=>{"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},346:(t,e,r)=>{"use strict";var n=r(103),o=r(745),i=Math.max;t.exports=function(t,e){var r,c,s,u=i(arguments.length,2);for(t=Object(o(t)),s=function(n){try{t[n]=e[n]}catch(t){r||(r=t)}},c=1;c<u;++c)n(e=arguments[c]).forEach(s);if(void 0!==r)throw r;return t}},914:(t,e,r)=>{"use strict";var n=r(430)();t.exports=function(t){return t!==n&&null!==t}},103:(t,e,r)=>{"use strict";t.exports=r(446)()?Object.keys:r(137)},446:t=>{"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},137:(t,e,r)=>{"use strict";var n=r(914),o=Object.keys;t.exports=function(t){return o(n(t)?Object(t):t)}},516:(t,e,r)=>{"use strict";var n=r(914),o=Array.prototype.forEach,i=Object.create,c=function(t,e){var r;for(r in t)e[r]=t[r]};t.exports=function(t){var e=i(null);return o.call(arguments,(function(t){n(t)&&c(Object(t),e)})),e}},290:t=>{"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},745:(t,e,r)=>{"use strict";var n=r(914);t.exports=function(t){if(!n(t))throw new TypeError("Cannot use null or undefined");return t}},981:(t,e,r)=>{"use strict";t.exports=r(591)()?String.prototype.contains:r(42)},591:t=>{"use strict";var e="razdwatrzy";t.exports=function(){return"function"==typeof e.contains&&!0===e.contains("dwa")&&!1===e.contains("foo")}},42:t=>{"use strict";var e=String.prototype.indexOf;t.exports=function(t){return e.call(this,t,arguments[1])>-1}},370:(t,e,r)=>{"use strict";var n,o,i,c,s,u,f,a=r(804),l=r(290),p=Function.prototype.apply,y=Function.prototype.call,b=Object.create,d=Object.defineProperty,h=Object.defineProperties,v=Object.prototype.hasOwnProperty,j={configurable:!0,enumerable:!1,writable:!0};o=function(t,e){var r,o;return l(e),o=this,n.call(this,t,r=function(){i.call(o,t,r),p.call(e,this,arguments)}),r.__eeOnceListener__=e,this},s={on:n=function(t,e){var r;return l(e),v.call(this,"__ee__")?r=this.__ee__:(r=j.value=b(null),d(this,"__ee__",j),j.value=null),r[t]?"object"==typeof r[t]?r[t].push(e):r[t]=[r[t],e]:r[t]=e,this},once:o,off:i=function(t,e){var r,n,o,i;if(l(e),!v.call(this,"__ee__"))return this;if(!(r=this.__ee__)[t])return this;if("object"==typeof(n=r[t]))for(i=0;o=n[i];++i)o!==e&&o.__eeOnceListener__!==e||(2===n.length?r[t]=n[i?0:1]:n.splice(i,1));else n!==e&&n.__eeOnceListener__!==e||delete r[t];return this},emit:c=function(t){var e,r,n,o,i;if(v.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(r=arguments.length,i=new Array(r-1),e=1;e<r;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;n=o[e];++e)p.call(n,this,i)}else switch(arguments.length){case 1:y.call(o,this);break;case 2:y.call(o,this,arguments[1]);break;case 3:y.call(o,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),e=1;e<r;++e)i[e-1]=arguments[e];p.call(o,this,i)}}},u={on:a(n),once:a(o),off:a(i),emit:a(c)},f=h({},u),t.exports=e=function(t){return null==t?b(f):h(Object(t),u)},e.methods=s},372:(t,e,r)=>{"use strict";var n=r(60);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!n(t)}},940:(t,e,r)=>{"use strict";var n=r(618),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!n(t)&&hasOwnProperty.call(o,typeof t)}},205:(t,e,r)=>{"use strict";var n=r(372),o=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(t){return!!n(t)&&!o.test(i.call(t))}},60:(t,e,r)=>{"use strict";var n=r(940);t.exports=function(t){if(!n(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},618:t=>{"use strict";t.exports=function(t){return null!=t}}},e={},function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}(219);var t,e}));